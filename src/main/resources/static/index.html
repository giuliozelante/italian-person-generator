<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üáÆüáπ Italian Person Generator API</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #009639 0%, #ffffff 50%, #ce2b37 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #009639, #00b347);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
        }

        .section h2 {
            color: #009639;
            font-size: 1.8em;
            margin-bottom: 20px;
            border-bottom: 2px solid #009639;
            padding-bottom: 10px;
        }

        .demo-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
        }

        .generate-btn {
            background: linear-gradient(135deg, #009639, #00b347);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 150, 57, 0.3);
        }

        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 150, 57, 0.4);
        }

        .generate-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .result-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            border-left: 5px solid #009639;
        }

        .person-field {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        .person-field:last-child {
            border-bottom: none;
        }

        .field-label {
            font-weight: 600;
            color: #333;
            min-width: 150px;
        }

        .field-value {
            color: #666;
            text-align: right;
            font-family: 'Courier New', monospace;
        }

        .api-info {
            background: #e3f2fd;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .endpoint {
            background: #2d3748;
            color: #68d391;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            overflow-x: auto;
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #009639;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-left: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .feature-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            border-top: 3px solid #009639;
        }

        .error {
            background: #ffebee;
            color: #c62828;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid #c62828;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üáÆüáπ Italian Person Generator API</h1>
            <p>Generate authentic Italian person data for testing and development</p>
        </div>

        <div class="content">
            <div class="section">
                <h2>What is this API?</h2>
                <p>The Italian Person Generator API creates realistic Italian person data including names, addresses, fiscal codes, and identification documents. Perfect for testing applications, populating databases, or any scenario where you need authentic-looking Italian personal data.</p>

                <div class="features">
                    <div class="feature-card">
                        <h3>üèõÔ∏è Authentic Data</h3>
                        <p>Real Italian names, addresses with correct CAP codes, and valid fiscal code calculations using official algorithms.</p>
                    </div>
                    <div class="feature-card">
                        <h3>üöÄ Fast & Lightweight</h3>
                        <p>Built with Kotlin + Ktor, compiled to native executables for maximum performance (~80ms startup).</p>
                    </div>
                    <div class="feature-card">
                        <h3>üì° REST API</h3>
                        <p>Clean JSON endpoints for easy integration with any application or testing framework.</p>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>API Endpoints</h2>
                <div class="api-info">
                    <div class="endpoint">GET /api/v1/person</div>
                    <p>Generate a single Italian person with complete data</p>
                    
                    <div class="endpoint">GET /api/v1/persons?count=N</div>
                    <p>Generate multiple persons (max 100 per request)</p>
                    
                    <div class="endpoint">GET /health</div>
                    <p>Service health check and version information</p>
                </div>
            </div>

            <div class="demo-section">
                <h2>üéØ Live Demo</h2>
                <p>Click the button below to generate a random Italian person using the API:</p>
                
                <div style="text-align: center; margin: 20px 0;">
                    <button id="generateBtn" class="generate-btn" onclick="generatePerson()">
                        Generate Italian Person
                        <span id="loading" class="loading" style="display: none;"></span>
                    </button>
                </div>

                <div id="result" style="display: none;"></div>
                <div id="error" style="display: none;"></div>
            </div>

            <div class="section">
                <h2>Generated Data Fields</h2>
                <p>Each Italian person includes the following fields:</p>
                <ul style="list-style: none; padding: 20px;">
                    <li><strong>Name & Surname:</strong> Authentic Italian first and last names</li>
                    <li><strong>Date of Birth:</strong> Italian format (dd/MM/yyyy), ages 18-80</li>
                    <li><strong>Address:</strong> Real Italian cities with correct CAP postal codes and provinces</li>
                    <li><strong>Fiscal Code:</strong> Valid Codice Fiscale calculated using official algorithm</li>
                    <li><strong>Mobile Phone:</strong> Italian mobile numbers with correct prefixes</li>
                    <li><strong>ID Card:</strong> Italian Electronic Identity Card (CIE) format</li>
                    <li><strong>ID Card Issue Date:</strong> Realistic dates (after 18th birthday, within last 10 years)</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        async function generatePerson() {
            const btn = document.getElementById('generateBtn');
            const loading = document.getElementById('loading');
            const result = document.getElementById('result');
            const error = document.getElementById('error');

            // Reset UI
            btn.disabled = true;
            loading.style.display = 'inline-block';
            result.style.display = 'none';
            error.style.display = 'none';

            try {
                const response = await fetch('/api/v1/person');
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
                
                const data = await response.json();
                
                if (data.success && data.data && data.data.length > 0) {
                    displayPerson(data.data[0]);
                } else {
                    throw new Error('Invalid response format');
                }
            } catch (err) {
                console.error('Error generating person:', err);
                showError(`Failed to generate person: ${err.message}`);
            } finally {
                btn.disabled = false;
                loading.style.display = 'none';
            }
        }

        function displayPerson(person) {
            const result = document.getElementById('result');
            
            result.innerHTML = `
                <div class="result-card">
                    <h3 style="color: #009639; margin-bottom: 20px;">Generated Italian Person</h3>
                    <div class="person-field">
                        <span class="field-label">üë§ Name:</span>
                        <span class="field-value">${person.name} ${person.surname}</span>
                    </div>
                    <div class="person-field">
                        <span class="field-label">üéÇ Date of Birth:</span>
                        <span class="field-value">${person.dateOfBirth}</span>
                    </div>
                    <div class="person-field">
                        <span class="field-label">üè† Address:</span>
                        <span class="field-value">${person.address}</span>
                    </div>
                    <div class="person-field">
                        <span class="field-label">üìÆ CAP:</span>
                        <span class="field-value">${person.cap}</span>
                    </div>
                    <div class="person-field">
                        <span class="field-label">üÜî Fiscal Code:</span>
                        <span class="field-value">${person.fiscalCode}</span>
                    </div>
                    <div class="person-field">
                        <span class="field-label">üì± Mobile Phone:</span>
                        <span class="field-value">${person.mobilePhone}</span>
                    </div>
                    <div class="person-field">
                        <span class="field-label">ü™™ ID Card:</span>
                        <span class="field-value">${person.idCard}</span>
                    </div>
                    <div class="person-field">
                        <span class="field-label">üìÖ ID Issue Date:</span>
                        <span class="field-value">${person.idCardIssueDate}</span>
                    </div>
                </div>
            `;
            
            result.style.display = 'block';
        }

        function showError(message) {
            const error = document.getElementById('error');
            error.innerHTML = `<div class="error">${message}</div>`;
            error.style.display = 'block';
        }

        // Generate a person on page load for demonstration
        window.addEventListener('load', () => {
            setTimeout(generatePerson, 1000);
        });
    </script>
</body>
</html> 